<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accordion in HTML CSS and Javascript</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
</head>
<body>
    <div class="accordion">
        <div class="accordion-content">
            <header class="d-flex align-center js-between">
                <span class="title">What do you mean by Accordion</span>
                <i class="fa-solid fa-plus"></i>
            </header>
            <p class="description">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci repellendus ullam reprehenderit qui eaque incidunt reiciendis, fugiat nesciunt ea corrupti animi odio accusamus eveniet.
            </p>
        </div>
        <div class="accordion-content">
            <header class="d-flex align-center js-between">
                <span class="title">What do you mean by Accordion</span>
                <i class="fa-solid fa-plus"></i>
            </header>
            <p class="description">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci repellendus ullam reprehenderit qui eaque incidunt reiciendis, fugiat nesciunt ea corrupti animi odio accusamus eveniet.
            </p>
        </div>

        <div class="accordion-content">
            <header class="d-flex align-center js-between">
                <span class="title">What do you mean by Accordion</span>
                <i class="fa-solid fa-plus"></i>
            </header>
            <p class="description">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci repellendus ullam reprehenderit qui eaque incidunt reiciendis, fugiat nesciunt ea corrupti animi odio accusamus eveniet.
            </p>
        </div>

        <div class="accordion-content">
            <header class="d-flex align-center js-between">
                <span class="title">What do you mean by Accordion</span>
                <i class="fa-solid fa-plus"></i>
            </header>
            <p class="description">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci repellendus ullam reprehenderit qui eaque incidunt reiciendis, fugiat nesciunt ea corrupti animi odio accusamus eveniet.
            </p>
        </div>

    </div>

    <script>
        const accordionContent = document.querySelectorAll(".accordion-content");
        accordionContent.forEach((item, index) => {
            let header = item.querySelector("header");

            header.addEventListener("click", () => {
                item.classList.toggle("open");

                let description = item.querySelector('.description');
                
                if(item.classList.contains("open")){
                    description.style.height = `${description.scrollHeight}px`;
                    item.querySelector("i").classList.replace("fa-plus", "fa-minus");
                }else{
                    description.style.height = "0px";
                    item.querySelector("i").classList.replace("fa-minus", "fa-plus");
                }

                removeOpen(index); //calling the function and also passing the index number of the clicked header
            });
        });

        function removeOpen(index1){

            accordionContent.forEach((item2, index2) => {
                
                // console.log("ADSDdsdsad", index2);
                if(index1 != index2){
                    item2.classList.remove('open');

                    let des = item2.querySelector('.description');
                    des.style.height = "0px";

                    item2.querySelector("i").classList.replace("fa-minus", "fa-plus");
                }

                
                // console.log("index", index2);
                // console.log("item", item2);

            });

        }

    </script>

</body>
</html>